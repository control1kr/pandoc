
# Pandoc을 사용하여 Markdown을 PDF로 변환하는 원리

Pandoc을 사용하여 Markdown 파일을 PDF로 변환하는 과정은 기본적으로 아래와 같은 단계를 거칩니다. 이 과정에서 Pandoc은 중간에 LaTeX을 사용해 PDF 생성 작업을 수행하는 것이 일반적입니다. 전체 변환 원리를 단계별로 설명하면 다음과 같습니다:

## 1. Markdown 파싱
- **입력 파일(Markdown)을 파싱**: Pandoc은 먼저 입력 파일인 Markdown을 분석하여 그 내용을 처리할 수 있는 내부 문서 구조로 변환합니다. Pandoc의 파서는 Markdown의 기본 문법뿐만 아니라, 확장된 기능(표, 각주, 코드 블록, 수식 등)도 처리할 수 있습니다.

## 2. 중간 형식으로 변환 (LaTeX 사용)
- **중간 포맷(LaTeX)으로 변환**: Markdown 파일은 직접 PDF로 변환되지 않습니다. Pandoc은 내부적으로 LaTeX을 중간 단계로 사용하여 Markdown의 콘텐츠를 변환합니다. LaTeX은 고급 텍스트 조판 시스템으로, PDF 출력을 위한 레이아웃과 스타일을 설정하는 데 강력한 도구입니다.
- Pandoc은 Markdown 파일의 각 요소(제목, 문단, 표 등)를 LaTeX 문법으로 변환합니다. 이때 Pandoc은 미리 설정된 LaTeX 템플릿을 사용하여 문서의 레이아웃, 글꼴, 여백 등의 스타일을 제어합니다. 템플릿을 커스터마이징하여 PDF의 출력 형식을 사용자가 원하는 대로 조정할 수도 있습니다.

## 3. LaTeX 컴파일
- **LaTeX 컴파일러를 사용한 PDF 생성**: LaTeX 파일이 생성되면, Pandoc은 `pdflatex`, `xelatex`, `lualatex` 같은 LaTeX 컴파일러를 호출하여 LaTeX 파일을 PDF로 변환합니다. 이 컴파일 과정에서 글꼴, 레이아웃, 스타일 등 LaTeX 문서에서 정의된 모든 규칙에 따라 PDF가 생성됩니다.
- 이때 LaTeX 파일에 포함된 이미지, 수식, 표, 각주 등 복잡한 요소들도 모두 처리되어 PDF 형식으로 출력됩니다.

## 4. PDF 출력
- **PDF 파일 출력**: 최종적으로 Pandoc은 LaTeX 컴파일러가 생성한 PDF 파일을 사용자에게 반환합니다. 이 과정은 Markdown 파일이 단순 텍스트에서 고급 레이아웃의 PDF 문서로 변환되는 과정입니다.

## Pandoc을 이용한 PDF 변환 명령어 예시
```bash
pandoc -s input.md -o output.pdf
```
이 명령어는 `input.md`라는 Markdown 파일을 LaTeX을 거쳐 `output.pdf` 파일로 변환합니다.

- `-s` 옵션은 문서 전체를 standalone 문서로 처리하는 옵션입니다. 이 옵션이 있으면 HTML이나 LaTeX의 header와 footer가 포함된 완전한 문서를 생성합니다.
- `-o output.pdf`는 출력 파일 형식을 지정하는 옵션입니다.

## 추가 옵션과 설정
- **LaTeX 템플릿**: Pandoc은 기본 LaTeX 템플릿을 사용하지만, 사용자 지정 템플릿을 지정할 수도 있습니다. `--template` 옵션을 사용하여 LaTeX 템플릿을 설정하면 PDF 스타일을 자유롭게 커스터마이즈할 수 있습니다.
- **글꼴 및 스타일**: LaTeX을 사용하여 글꼴이나 텍스트 스타일을 조정할 수 있습니다. 예를 들어, `--pdf-engine=xelatex` 옵션을 사용하면 Unicode를 지원하는 글꼴을 사용할 수 있습니다.

## Pandoc PDF 변환의 장점
- Markdown 파일을 간단하게 작성하여 다양한 형식(PDF, Word, HTML 등)으로 변환할 수 있습니다.
- LaTeX을 기반으로 한 고급 조판 기능을 활용하여 복잡한 문서 레이아웃을 지원합니다.
- 변환 과정에서 사용자가 템플릿과 스타일을 커스터마이징할 수 있어, 유연한 문서 출력을 지원합니다.

이와 같이 Pandoc은 Markdown을 직접 PDF로 변환하지 않고, LaTeX을 중간 단계로 활용하여 다양한 서식 및 레이아웃을 적용한 고품질 PDF 문서를 생성합니다.
